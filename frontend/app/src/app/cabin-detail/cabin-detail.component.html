<div class="d-flex flex-row align-items-center">
  <h1 class="text-primary me-3">{{ cabin.name }}  </h1>
  @if (role == 'ADMIN') {
  <a href=""> <i class="bi bi-pencil-square h1"></i></a>
  }
</div>

<p class="text-muted">{{ cabin.location }}</p>
<div class="row">
  <div class="col-md-9 mb-2">
    <div id="carouselExample" class="carousel slide">
      <div class="carousel-inner">
        @for (url of cabin.photos; track $index) {
        <div class="carousel-item active img-cabin-carrusel bg-dark ">
          <div class="d-flex justify-content-center mt-auto">
            <img
            [src]="baseUrl + url"
            alt=""
            class="d-block img img-fluid "
            style="height: 100%; width: auto;"
          />
          </div>
        </div>
        }
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExample"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  <div class="col-md-3 ">
    <h4>Reseñas</h4>
    <div class="reviews-container">
      @for (item of [1, 2, 3, 4, 5]; track $index) {
        <div class="border p-3">
          <p class="mb-0"><strong>Buenas vistas</strong></p>
          <p class="text-muted text-small mb-0">
            Lorem ipsum dolor sit amet consectetur adipisicing elit.
          </p>
          <div class="d-flex flex-row">
            <i class="bi bi-star-fill yellow-star"></i>
            <i class="bi bi-star-fill yellow-star"></i>
            <i class="bi bi-star-fill yellow-star"></i>
            <i class="bi bi-star-fill yellow-star"></i>
            <i class="bi bi-star-fill yellow-star"></i>
            <p class="text-muted mb-0 ms-2">4.5</p>
          </div>
        </div>
        }
    </div>
  </div>
</div>
<div class="row mt-5">
  <div class="col-md-9">
    
    
  </div>
</div>
    <div class="row">
      <div class="col-md-9">
        <div class="feature-container ">
          @for (feature of cabin.features; track $index) {
          
            <span class="display-1 mb-2" style="font-size: 20px">{{ feature.name }}</span>
            }
          
        </div>
        <p class="mt-2">{{ cabin.description }}</p>
      </div>
      <div class="col-md-3">
        <div class="container d-flex flex-column align-items-center">
          <app-datepicker-range [displayMonths]="1" [disabledDays]="transformedReservedDates" [disabledDatePicker]="true"></app-datepicker-range>
          @if (userLoginOn) {
            <button class="btn btn-success mt-2" (click)="navigateToReservation()">Reservar</button>

          }@else {
            <button class="btn btn-success mt-2"  (click)="open(content)">Reservar</button>

          }
        </div>
        
        
      </div>
    </div>
    <div class="mt-5">
      <h2>Ya visitaste antes?</h2>
      <p>Comparte tu experiencia</p>
      <input type="text" class="form-control" id="" />
      <div class="d-flex flex-row">
        <div class="rating">
          <input value="5" name="rate" id="star5" type="radio" />
          <label title="text" for="star5"></label>
          <input value="4" name="rate" id="star4" type="radio" />
          <label title="text" for="star4"></label>
          <input value="3" name="rate" id="star3" type="radio" checked="" />
          <label title="text" for="star3"></label>
          <input value="2" name="rate" id="star2" type="radio" />
          <label title="text" for="star2"></label>
          <input value="1" name="rate" id="star1" type="radio" />
          <label title="text" for="star1"></label>
        </div>
      </div>
      <br />
      <button class="btn btn-primary">Compartir</button>
    </div>



    <ng-template #content let-modal>
      <div class="container py-5 d-flex flex-column align-items-center">
        @if (isLoginMode) {
          <app-login (loginEvent)="modal.dismiss('Cross click')" [redirect]="false"></app-login>
          <p>No tienes cuenta? <a class="text-primary " style="cursor: pointer;" (click)="switchToRegister()"> Crear cuenta</a></p>
        }@else {
          <app-register-user (redirect)="false"></app-register-user>
          <p>¿Ya tienes una cuenta? <a class="text-primary " style="cursor: pointer;"  (click)="switchToLogin()">Inicia sesión aquí</a></p>
        }
      </div>
    </ng-template>
    

    